<%- contentFor('HeaderCss') %>

<!-- DataTables -->
<link href="/public/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css">
<link href="/public/assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css">

<!-- Responsive datatable examples -->
<link href="/public/assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css">
<link href="/public/assets/libs/sweetalert2/sweetalert2.min.css" rel="stylesheet" type="text/css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>  

<%- contentFor('breadcrumb') %>

<%- contentFor('body') %>



<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div id="alertmsg"></div>
                <table id="adminTable" class="table table-striped dt-responsive nowrap table-vertical" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                    <thead>
                    <tr>
                        <th></th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>User Name</th>
                        <th>Eamil</th>
                        <th>Options</th>
                    </tr>
                    </thead>
                    <tbody>
                        
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>

<%- contentFor('FooterJs') %>
<script>
$( document ).ready(function() {
    getProcess();
});
	
	function getProcess(){

table = $('#adminTable').DataTable();

table.clear().draw();
       $.ajax({
type: 'GET',
dataType : 'json',
url: '<%=urlapi%>usermanagement',

success: function (data) {
data.forEach(x => {
    

 var action =`<a href="<%=base%>/editadministrator?id=${x.adminid}" class="me-3 text-muted" style="cursor:pointer;"><i class="mdi mdi-pencil font-size-18"></i></a>`;

table.row.add(['',x.firstname,x.lastname,x.username,x.email,action]);
});

table.draw();

},
error: function(request, status, error) {
}
});

window.scrollTo(0, document.body.scrollHeight);    
}
  
</script>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="/public/assets/libs/sweetalert2/sweetalert2.min.js"></script>
<!-- Required datatable js -->

<script src="/public/assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="/public/assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
<!-- Buttons examples -->
<script src="/public/assets/libs/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
<script src="/public/assets/libs/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js"></script>
<script src="/public/assets/libs/jszip/jszip.min.js"></script>
<script src="/public/assets/libs/pdfmake/build/pdfmake.min.js"></script>
<script src="/public/assets/libs/pdfmake/build/vfs_fonts.js"></script>
<script src="/public/assets/libs/datatables.net-buttons/js/buttons.html5.min.js"></script>
<script src="/public/assets/libs/datatables.net-buttons/js/buttons.print.min.js"></script>
<script src="/public/assets/libs/datatables.net-buttons/js/buttons.colVis.min.js"></script>
<!-- Responsive examples -->
<script src="/public/assets/libs/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="/public/assets/libs/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>

<!-- Datatable init js -->
<script src="/public/assets/js/pages/datatables.init.js"></script> 

<%- contentFor('BottomJs') %>